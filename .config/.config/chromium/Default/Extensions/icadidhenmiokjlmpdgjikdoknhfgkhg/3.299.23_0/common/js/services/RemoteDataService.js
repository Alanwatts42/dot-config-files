"use strict";angular.module("MetronicApp").factory("RemoteDataService",["$window","$q","DataService","$http",function(e,t,r,o){var n=DM.globals.serverURL+"api/v1/jobs/",s="?format=json",a=DM.globals.serverURL;return{getJobs:function(){var e=t.defer();return o.get(n+s).then(function(t){200===t.status?e.resolve(t.data):(console.error(t),e.reject("Something went wrong!!!"))},function(t){403===t.status?e.reject("Login required"):e.reject("Can not contact server: "+t.status+" "+t.statusText)}),e.promise},saveJobs:function(e){var r=t.defer();return void 0===e.id?o.post(n+s,e).then(function(e){201===e.status?r.resolve(e.data):(console.error(e),r.reject("Something went wrong!!!"))},function(e){console.error(e.stack||e),r.reject("Can not contact server: "+e.status+" "+e.statusText)}):o.put(n+e.id+"/"+s,e).then(function(e){200===e.status?r.resolve(e.data):(console.error(e),r.reject("Something went wrong!!!"))},function(e){console.error(e.stack||e),r.reject("Can not contact server: "+e.status+" "+e.statusText)}),r.promise},deleteJob:function(e){var r=t.defer();return o.delete(n+e+s).then(function(e){204===e.status?r.resolve(e.data):(console.error(e),r.reject("Something went wrong!!!"))},function(e){console.error(e.stack||e),r.reject("Can not contact server: "+e.status+" "+e.statusText)}),r.promise},testLogin:function(){var e=t.defer(),r=chrome.extension.getBackgroundPage().dmBackground,o=chrome.runtime.getManifest().version,n="?sr=view&uid="+r.user.uid+"&c="+o;return $.ajax({type:"GET",url:a+"login_test"+n,success:function(t){var o=JSON.parse(t);r.user.user_id=o.user_id,r.user.email=o.email,r.serverData=o,e.resolve(o)},error:function(t){e.reject("Something went wrong!!!")}}),e.promise}}}]);
//# sourceMappingURL=../../../../map/common/js/services/RemoteDataService.js.map